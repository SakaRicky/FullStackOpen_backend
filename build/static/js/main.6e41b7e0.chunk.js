(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{16:function(e,n,t){},42:function(e,n,t){"use strict";t.r(n);var c=t(0),o=t(1),r=t(17),u=t.n(r),a=t(18),i=t(3),s=function(e){var n=e.contact,t=e.deleteHandler;return Object(c.jsxs)("p",{children:[" ",n.name," : ",n.number," ",Object(c.jsx)("button",{onClick:t,children:"Delete"})]})},l=function(e){var n=e.change,t=e.search;return Object(c.jsx)("div",{children:Object(c.jsx)("form",{onSubmit:t,children:Object(c.jsxs)("div",{children:["filter form with ",Object(c.jsx)("input",{onChange:n})]})})})},d=function(e){var n=e.add,t=e.nameChange,o=e.numberChange;return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:n,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{onChange:t})]}),Object(c.jsxs)("div",{children:["phone number: ",Object(c.jsx)("input",{onChange:o})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})})},j=t(5),f=t.n(j),b="/api/persons",h=function(){return f.a.get(b).then((function(e){return e.data}))},m=function(e){return f.a.post(b,e).then((function(e){return e.data}))},O=function(e,n){return f.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},p=function(e){var n=f.a.delete("".concat(b,"/").concat(e));return n.then((function(e){console.log(e)})),n.then((function(e){return e.data}))},v=function(e){var n=e.message,t=e.nature,o="error";return null===n?null:("sucess"===t&&(o="sucess"),Object(c.jsx)("div",{className:o,children:n}))},x=(t(16),function(){var e=Object(o.useState)([]),n=Object(i.a)(e,2),t=n[0],r=n[1],u=Object(o.useState)(""),j=Object(i.a)(u,2),f=j[0],b=j[1],x=Object(o.useState)(""),g=Object(i.a)(x,2),w=g[0],C=g[1],S=Object(o.useState)(""),y=Object(i.a)(S,2),k=y[0],T=y[1],D=Object(o.useState)(null),E=Object(i.a)(D,2),H=E[0],J=E[1],N=Object(o.useState)(""),P=Object(i.a)(N,2),R=P[0],U=P[1],A=k?t.filter((function(e){return e.name.toUpperCase().includes(k.toUpperCase())})):Object(a.a)(t);Object(o.useEffect)((function(){h().then((function(e){r(e),J(null)})).catch((function(e){J(e.response.data.message),U("error"),setTimeout((function(){J(null)}),5e3)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(v,{message:H,nature:R}),Object(c.jsx)(l,{change:function(e){T(e.target.value)}}),Object(c.jsx)("h3",{children:"add a new "}),Object(c.jsx)(d,{add:function(e){e.preventDefault();var n={name:f,number:w};if(t.map((function(e){return e.name})).includes(f)){if(window.confirm("Do you really want to modify ".concat(f,"?"))){var c=t.find((function(e){return e.name===f}));O(c.id,n).then((function(e){var n=t.filter((function(e){return e.name!==f}));console.log("remainingPersons: ",n),U("sucess"),J("Modified ".concat(e.name)),setTimeout((function(){J(null)}),5e3)})).catch((function(e){J(e.response.data.message),U("error"),setTimeout((function(){J(null)}),5e3)}))}}else m(n).then((function(e){r(t.concat(e)),U("sucess"),J("Added ".concat(e.name)),setTimeout((function(){J(null)}),5e3)})).catch((function(e){J(e.response.data.message),U("error"),setTimeout((function(){J(null)}),5e3)}))},nameChange:function(e){b(e.target.value)},numberChange:function(e){C(e.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),A.map((function(e){return Object(c.jsx)(s,{contact:e,deleteHandler:function(){return function(e){var n=t.find((function(n){return n.name===e}));window.confirm("Do you really want to delete ".concat(e,"?"))&&p(n.id).then((function(e){console.log("contactRemoved: ",e),r(t.filter((function(e){return e.id!==n.id}))),J("Removed ".concat(e.name)),U("sucess"),setTimeout((function(){J(null)}),5e3)}))}(e.name)}},e.name)}))]})});u.a.render(Object(c.jsx)(x,{}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.6e41b7e0.chunk.js.map