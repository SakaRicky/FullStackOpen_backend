(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{42:function(n,e,t){},43:function(n,e,t){"use strict";t.r(e);var c=t(0),r=t(2),a=t(17),i=t.n(a),o=t(8),u=t(18),d=t(5),j=function(n){var e=n.contact,t=n.deleteHandler;return Object(c.jsxs)("p",{children:[" ",e.name," : ",e.number," ",Object(c.jsx)("button",{onClick:t,children:"Delete"})]})},b=function(n){var e=n.change,t=n.search;return Object(c.jsx)("div",{children:Object(c.jsx)("form",{onSubmit:t,children:Object(c.jsxs)("div",{children:["filter form with ",Object(c.jsx)("input",{onChange:e})]})})})},s=function(n){var e=n.add,t=n.nameChange,r=n.numberChange;return Object(c.jsx)("div",{children:Object(c.jsxs)("form",{onSubmit:e,children:[Object(c.jsxs)("div",{children:["name: ",Object(c.jsx)("input",{onChange:t})]}),Object(c.jsxs)("div",{children:["phone number: ",Object(c.jsx)("input",{onChange:r})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]})})},f=t(4),h=t.n(f),l="/api/persons",O=function(){return h.a.get(l).then((function(n){return n.data}))},m=function(n){return h.a.post(l,n).then((function(n){return n.data}))},p=function(n,e){return h.a.put("".concat(l,"/").concat(n),e).then((function(n){return n.data}))},x=function(n){return h.a.delete("".concat(l,"/").concat(n)).then((function(n){return n.data}))},v=function(){var n=Object(r.useState)([]),e=Object(d.a)(n,2),t=e[0],a=e[1],i=Object(r.useState)(""),f=Object(d.a)(i,2),h=f[0],l=f[1],v=Object(r.useState)(""),g=Object(d.a)(v,2),w=g[0],C=g[1],k=Object(r.useState)(""),S=Object(d.a)(k,2),y=S[0],D=S[1],E=t.map((function(n){return n.name})),H=y?t.filter((function(n){return n.name.toUpperCase().includes(y.toUpperCase())})):Object(u.a)(t);Object(r.useEffect)((function(){O().then((function(n){a(n)}))}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)(b,{change:function(n){D(n.target.value)}}),Object(c.jsx)("h3",{children:"add a new "}),Object(c.jsx)(s,{add:function(n){n.preventDefault();var e={name:h,number:w};if(E.includes(h)){if(window.confirm("".concat(h," is already added to phonebook, replace the old number with a new one?"))){var c=t.find((function(n){return n.name===h})),r=Object(o.a)(Object(o.a)({},c),{},{number:w});p(c.id,r).then((function(n){var e=t.filter((function(n){return n.name!==h}));a(e.concat(n))}))}}else m(e).then((function(n){a(t.concat(n))}))},nameChange:function(n){l(n.target.value)},numberChange:function(n){C(n.target.value)}}),Object(c.jsx)("h2",{children:"Numbers"}),H.map((function(n){return Object(c.jsx)(j,{contact:n,deleteHandler:function(){return function(n){var e=t.find((function(e){return e.name===n}));window.confirm("Do you really want to delete ".concat(n,"?"))&&x(e.id).then((function(n){a(t.filter((function(n){return n.id!==e.id})))}))}(n.name)}},n.name)}))]})};t(42);i.a.render(Object(c.jsx)(v,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.bb36703c.chunk.js.map