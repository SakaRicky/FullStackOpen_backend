{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","services/phonebook.js","App.js","index.js"],"names":["Person","contact","deleteHandler","name","number","onClick","Filter","change","search","onSubmit","onChange","PersonForm","add","nameChange","numberChange","type","baseUrl","axios","get","then","response","data","newContact","post","id","put","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","personsList","map","p","personsFiltered","person","toUpperCase","includes","useEffect","phonebookService","allContacts","event","target","value","preventDefault","newPerson","window","confirm","find","updatedContact","addedContact","filtered","concat","contactName","contacts","deleteContactHandler","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bb36703c.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({contact, deleteHandler}) => {\r\n    return <p> {contact.name} : {contact.number} <button onClick={deleteHandler}>Delete</button></p>\r\n}\r\n\r\nexport default Person;","import React from 'react';\r\n\r\nconst Filter = ({change, search}) => {\r\n    return (\r\n            <div>\r\n                <form onSubmit={search}>\r\n                    <div>\r\n                        filter form with <input onChange={change}/>\r\n                        {/* <button type=\"submit\">Search</button> */}\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default Filter;","import React from 'react';\r\n\r\nconst PersonForm = ({add, nameChange, numberChange}) => {\r\n    return (\r\n            <div>\r\n                <form onSubmit={add}>\r\n                <div>\r\n                    name: <input onChange={nameChange}/>\r\n                </div>\r\n                <div>\r\n                    phone number: <input onChange={numberChange}/>\r\n                </div>\r\n                <div>\r\n                    <button type=\"submit\">add</button>\r\n                </div>\r\n                </form>\r\n            </div>\r\n        )\r\n}\r\n\r\nexport default PersonForm;","import axios from 'axios';\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newContact => {\r\n    const request = axios.post(baseUrl, newContact)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newContact) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newContact)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, remove}","import React, { useState, useEffect } from 'react';\n\nimport Person from './components/Person';\nimport Filter from './components/Filter';\nimport PersonForm from './components/PersonForm';\nimport phonebookService from './services/phonebook';\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n\n  const personsList = persons.map(p => p.name);\n\n  const personsFiltered = filter ? persons.filter(person => person.name.toUpperCase().includes(filter.toUpperCase())) : [...persons];\n\n  useEffect(() => {\n    phonebookService\n      .getAll()\n      .then(allContacts => {\n        setPersons(allContacts);\n      })\n      }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = (event) => {\n    setFilter(event.target.value);\n  }\n\n  const handleAdd = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (personsList.includes(newName)) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        const contact = persons.find(person => person.name === newName);\n        const updatedContact = {...contact, number: newNumber}\n        phonebookService\n          .update(contact.id, updatedContact)\n          .then(addedContact => {\n                    const filtered = persons.filter(contact => contact.name !== newName)\n                    setPersons(filtered.concat(addedContact))\n                  })\n      }\n    } else {\n      phonebookService\n        .create(newPerson)\n        .then(addedContact => {\n          setPersons(persons.concat(addedContact))\n        });\n    }\n\n    \n    // personsList.includes(newName) ? phonebookService\n    //                                   .update(newPerson)\n    //                                   .then(addedContact => {\n    //                                     setPersons(persons.concat(addedContact))\n    //                                   }) :\n    //                                   phonebookService\n    //                                     .create(newPerson)\n    //                                     .then(addedContact => {\n    //                                       setPersons(persons.concat(addedContact))\n    //                                     });\n  } \n\n  const deleteContactHandler = (contactName) => {\n    const contact = persons.find(person => person.name === contactName);\n    if (window.confirm(`Do you really want to delete ${contactName}?`)) {\n      phonebookService\n        .remove(contact.id)\n        .then(contacts => {\n          setPersons(persons.filter(person => person.id !== contact.id))\n      })\n    }\n    \n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Filter change={handleFilterChange}/>\n\n      <h3>add a new </h3>\n\n      <PersonForm add={handleAdd} nameChange={handleNameChange} numberChange={handleNumberChange} />\n\n      <h2>Numbers</h2>\n      {personsFiltered.map(person => {\n        return <Person \n                  key={person.name} \n                  contact={person} \n                  deleteHandler={() => deleteContactHandler(person.name)} \n                />\n      })}\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}